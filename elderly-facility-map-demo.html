<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—¥é«˜åœ°åŒº æ–½è¨­ãƒãƒƒãƒ—ï¼ˆãƒ‡ãƒ¢ï¼‰</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    #map { height: 90vh; width: 100%; }
    .filter-btns { text-align: center; margin: 10px 0; }
    .filter-btns button { margin: 0 5px; padding: 5px 10px; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">æ—¥é«˜åœ°åŒº æ–½è¨­ãƒãƒƒãƒ—ï¼ˆãƒ‡ãƒ¢ï¼‰</h2>
  <div class="filter-btns">
    <button onclick="filterMarkers('ã™ã¹ã¦')">ã™ã¹ã¦</button>
    <button onclick="filterMarkers('åŒ»ç™‚æ©Ÿé–¢')">ğŸ¥ åŒ»ç™‚æ©Ÿé–¢</button>
    <button onclick="filterMarkers('é«˜é½¢è€…ç¦ç¥‰æ–½è¨­')">ğŸ§“ é«˜é½¢è€…ç¦ç¥‰æ–½è¨­</button>
    <button onclick="filterMarkers('ã“ã©ã‚‚é£Ÿå ‚')">ğŸ½ ã“ã©ã‚‚é£Ÿå ‚</button>
    <button onclick="filterMarkers('ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢ãƒ»è–¬å±€')">ğŸ’Š è–¬å±€</button>
    <button onclick="filterMarkers('è²·ã„ç‰©')">ğŸ› è²·ã„ç‰©</button>
    <button onclick="filterMarkers('åœ°åŒºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼')">ğŸ¢ åœ°åŒºã‚»ãƒ³ã‚¿ãƒ¼</button>
    <button onclick="filterMarkers('å…¬åœ’')">ğŸŒ³ å…¬åœ’</button>
  </div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([35.46722204389121, 134.7715089114013], 15); // å…¬ç«‹è±Šå²¡ç—…é™¢ æ—¥é«˜ã‚¯ãƒªãƒ‹ãƒƒã‚¯ã®ä½ç½®

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    const icons = {
      'åŒ»ç™‚æ©Ÿé–¢': 'ğŸ¥',
      'é«˜é½¢è€…ç¦ç¥‰æ–½è¨­': 'ğŸ§“',
      'ã“ã©ã‚‚é£Ÿå ‚': 'ğŸ½',
      'ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢ãƒ»è–¬å±€': 'ğŸ’Š',
      'è²·ã„ç‰©': 'ğŸ›',
      'åœ°åŒºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼': 'ğŸ¢',
      'å…¬åœ’': 'ğŸŒ³'
    };

    const allMarkers = [
      { name: 'å…¬ç«‹è±Šå²¡ç—…é™¢ æ—¥é«˜ã‚¯ãƒªãƒ‹ãƒƒã‚¯', lat: 35.46722204389121, lng: 134.7715089114013, genre: 'åŒ»ç™‚æ©Ÿé–¢' },
      { name: 'è°·å£åŒ»é™¢', lat: 35.460167255390225, lng: 134.73564615372902, genre: 'åŒ»ç™‚æ©Ÿé–¢' },
      { name: 'ã‚„ã•ã‹çœ¼ç§‘ã‚¯ãƒªãƒ‹ãƒƒã‚¯', lat: 35.47089578715139, lng: 134.7747099672221, genre: 'åŒ»ç™‚æ©Ÿé–¢' },
      { name: 'ç‰¹åˆ¥é¤Šè­·è€äººãƒ›ãƒ¼ãƒ  ãŸã˜ã¾è˜', lat: 35.47780255276538, lng: 134.72028460584804, genre: 'é«˜é½¢è€…ç¦ç¥‰æ–½è¨­' },
      { name: 'æ—¥é«˜å­ã©ã‚‚é£Ÿå ‚ã€Œã‚ãã¿ã€', lat: 35.47333963282479, lng: 134.77902476405265, genre: 'ã“ã©ã‚‚é£Ÿå ‚' },
      { name: 'ã‚³ã‚¹ãƒ¢ã‚¹ä½†é¦¬æ—¥é«˜åº—', lat: 35.4787435935227, lng: 134.78303529420702, genre: 'ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢ãƒ»è–¬å±€' },
      { name: 'ãƒ€ã‚¤ã‚½ãƒ¼ è±Šå²¡æ—¥é«˜åº—', lat: 35.470778088911366, lng: 134.77540154817586, genre: 'è²·ã„ç‰©' },
      { name: 'æ—¥é«˜åœ°åŒºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆãã‚‰ã‚ãæ—¥é«˜ï¼‰', lat: 35.47078382828845, lng: 134.77219866351933, genre: 'åœ°åŒºã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼' },
      { name: 'ç¥é‹æ¸“è°·å…¬åœ’', lat: 35.51376096798489, lng: 134.6414684039988, genre: 'å…¬åœ’' },
      { name: 'ç¥é‹å±±é ‚å…¬åœ’', lat: 35.50902050459238, lng: 134.6798870334574, genre: 'å…¬åœ’' },
    ];

    const markerGroup = L.layerGroup().addTo(map);

    function filterMarkers(genre) {
      markerGroup.clearLayers();
      const filtered = genre === 'ã™ã¹ã¦' ? allMarkers : allMarkers.filter(m => m.genre === genre);
      filtered.forEach(m => {
        const icon = L.divIcon({ className: 'custom-div-icon', html: `<div style="font-size:24px;">${icons[m.genre]}</div>` });
        L.marker([m.lat, m.lng], { icon }).bindPopup(`<strong>${m.name}</strong><br>${m.genre}`).addTo(markerGroup);
      });
    }

    filterMarkers('ã™ã¹ã¦');
  </script>
</body>
</html>
